<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>지금 우리아이들은 작성</title>
    <link rel="stylesheet" href="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.css" />
    <link rel="stylesheet" href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css" />
    <link rel="stylesheet" href="https://uicdn.toast.com/tui.pagination/latest/tui-pagination.css" />
    <link rel="stylesheet" href="https://uicdn.toast.com/calendar/latest/toastui-calendar.min.css" />
    <link rel="stylesheet" href="https://uicdn.toast.com/tui-grid/latest/tui-grid.css"/>
    <link rel="stylesheet" href="../../static/css/nowKids/now-kids-write.css">
</head>
<body>
    <header class="header"></header>
    <div class="full-content-wrapper">
        <div class="full-content-flex-wrapper">
            <div class="left-full-content">
                <div class="left-header-full-wrapper">
                    <div class="left-header-box-wrapper">
                        <span class="left-header-category-name">농촌</span>
                        <span class="left-header-leader">통솔자</span>
                    </div>
                    <a class="left-header-leader-mypage">
                        <span class="left-header-leader-name">김동한</span>의<br>체험활동
                    </a>
                    <span class="left-header-experience-num-wrapper">체험활동 번호 <span class="left-header-experience-num">1</span>
                </div>
                <nav class="left-body-full-wrapper">
                    <div class="left-body-space"></div>
                    <ul>
                        <li>
                            <div class="left-body-category-toggle">지금 우리 아이들은<span class="toggle-img"><img src="/static/images/nowKids/bottom-arrow.png"></span></div>
                            <ul class="left-body-category-list">
                                <li>
                                    <a class="left-body-category">
                                        진행중인 체험학습
                                    </a>
                                </li>
                                <li>
                                    <a class="left-body-category">
                                        사진 등록
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    <div class="calendar-box">
        <div style="display:flex;">
            <h3 class="calendar-year year"></h3>
            <h3 class="calendar-year month"></h3>
        </div>
        <div style="display: flex;">
            <div class="calendar-button-box">
                <button type="button" class="btn btn-padding" id="today">
                    <p class="auto-flex">TODAY</p>
                </button>
            </div>
            <div class="calendar-button-box">
                <button type="button" id="calender-prev" class="btn">
                    <span class="auto-flex">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M15.5 5.5l-6 6.5 6 6.5L14 20l-7.5-8L14 4l1.5 1.5z" fill="#1a1a1a"></path></svg>
                    </span>
                </button>
            </div>
            <div>
                <button type="button" id="calender-next" class="btn">
                    <span class="auto-flex">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M8.5 18.5l6-6.5-6-6.5L10 4l7.5 8-7.5 8-1.5-1.5z" fill="#1a1a1a"></path></svg>
                    </span>
                </button>
            </div>
        </div>
    </div>
    <div class=""
    <div id="calendar" style="height: 500px; width: 1700px;"></div>

    <footer class="footer"></footer>
</body>
<script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
<script src="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.js"></script>
<script src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.js"></script>
<script src="https://uicdn.toast.com/calendar/latest/toastui-calendar.min.js"></script>
<script src="https://uicdn.toast.com/tui-grid/latest/tui-grid.js"></script>
<script src="https://uicdn.toast.com/tui.pagination/latest/tui-pagination.js"></script>
<script>
    

/* 달력, 옵션 부분에서 테마나 readOnly month로 할지 주로 할지 정하기 */
const Calendar = tui.Calendar;
const container = document.getElementById('calendar');
const options = {
defaultView: 'month',
hourStart: 0, 
hourEnd: 0, 
disableClick: true,
month : {
      dayNames : ['Sun', 'Mon', 'Tus', 'Wen', 'Thr', 'Fri', 'Sat'],
      isAlways6Weeks: false,
      startDayOfWeek: 1,
},
timezone: {
  zones: [
    {
      timezoneName: 'Asia/Seoul',
      displayLabel: 'Seoul',
    },
  ],
},
theme: {
        month: {
          dayName: {
            borderLeft: 'none',
            backgroundColor: '#36f',
          },
          moreView: {
            border: '1px solid grey',
            boxShadow: '0 2px 6px 0 grey',
            backgroundColor: 'white',
            width: 320,
            height: 200,
          },
          gridCell: {
            footerHeight: 31,
          },
        },
      },
      /* 일정 색깔 바꾸기, 랜덤으로 주고 백단에서 넘길 떄 같이 넘기자. 더 추가해도 됨 */
calendars: [
  {
    id: 'cal1',
    name: '관리자',
    backgroundColor: '#03bd9e',
  },
  {
    id: 'cal2',
    name: '관리자',
    backgroundColor: '#36f',
  },
  {
    id: 'cal3',
    name: '관리자',
    backgroundColor: 'orange',
  },
  {
    id: 'cal4',
    name: '관리자',
    backgroundColor: 'yellow',
  },
  {
    id: 'cal5',
    name: '관리자',
    backgroundColor: '#e1e1e1',
  },
],
};

const calendar = new Calendar(container, options);
const month = calendar.getDate().getMonth() + 1;
const year = calendar.getDate().getFullYear();

/* 데이터 넣는 방식 */
let datas = [
    /* 이게 하루 색깔 들어가기 */
/*     {
    id: '1',
    calendarId: 'cal2',
    title: '축구',
    start: '2023-04-09',
    end: '2023-04-09',
    isAllday: true,
    category: 'allday',
    }, */
    {
    id: '1',
    calendarId: 'cal2',
    title: '축구',
    start: '2023-04-09',
    end: '2023-04-09',
    },
    {
    id: '2',
    calendarId: 'cal1',
    title: '플러깅',
    start: '2023-04-16',
    end: '2023-04-16',
    isAllday: true,
    category: 'allday',
    },
    {
    id: '3',
    calendarId: 'cal3',
    title: '봉사활동',
    start: '2023-04-20',
    end: '2023-04-21',
    isAllday: true,
    category: 'allday',
    },
    {
    id: '4',
    calendarId: 'cal4',
    title: '먹고싶은 거 먹기',
    start: '2023-04-28',
    end: '2023-05-01',
    isAllday: true,
    category: 'allday',
    },
    {
    id: '5',
    calendarId: 'cal5',
    title: '농구',
    start: '2023-04-12',
    end: '2023-04-13',
    isAllday: true,
    category: 'allday',
    },
    {
    id: '6',
    calendarId: 'cal3',
    title: '남한산성 한 바퀴',
    start: '2023-04-05',
    end: '2023-04-08',
    isAllday: true,
    category: 'allday',
    }, {
    id: '7',
    calendarId: 'cal4',
    title: '발야구',
    start: '2023-04-09',
    end: '2023-04-09',
    },
];

datas.forEach((e, i) => {
  calendar.createEvents([
        e
  ]);
});



// 추가 이벤트
calendar.on('beforeCreateEvent', (eventObj) => {
calendar.createEvents([
  {
    ...eventObj,
  },
]);
});

/* 캘린더 버튼 */
var currentDate = calendar.getDate();

$(".year").text(currentDate.getFullYear()+ "년");
$(".month").text(currentDate.getMonth() + 1 + "월");

$("#calender-prev").click(() => {
  currentDate = calendar.getDate();

  var prevDate = new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1);
  var prevYear = prevDate.getFullYear();
  var prevMonthIndex = prevDate.getMonth();

  $(".year").text(prevYear+ "년");
  $(".month").text(prevMonthIndex + 1 + "월");
  
  calendar.prev();
});

$("#calender-next").click(() => {
  currentDate = calendar.getDate();
  
  var nextDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1);
  var nextMonthIndex = nextDate.getMonth();
  var nextYear = nextDate.getFullYear();

  $(".year").text(nextYear+ "년");
  $(".month").text(nextMonthIndex + 1 + "월");
  
  calendar.next();
})

$("#today").click(() => {
  $(".year").text(year+ "년");
  $(".month").text(month + "월");

  calendar.today();
});
</script>
</html>